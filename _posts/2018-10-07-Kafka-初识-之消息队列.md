---
layout:     post
title:      Kafka-初识消息队列
subtitle:   为什么需要消息队列
date:       2018-10-07
author:     HD
catalog: true
tags:
    - Kafka - 消息队列 - 
---


## 正文

以下三张图，层层递进，诠释了为何需要消息队列的原因之一：解耦

1.用户注册的一般流程：

**一连串的操作完成后，代表合理完成一次请求，这一系列操作都是同步的**

![最开始是同步](https://raw.githubusercontent.com/TheFrancisHe/TheFrancisHe.github.io/master/img/sync.png)

2.用户注册的并行执行：

**后来优化逻辑，由于这几部分动作互相独立，便采用异步方式**

![后来异步提高效率](https://raw.githubusercontent.com/TheFrancisHe/TheFrancisHe.github.io/master/img/async.png)

3.用户注册的最终一致

**即使采用异步方式，却发现仍旧存在“木桶理论”，总是要等到执行时间最长的动作执行完毕后，才算完成一次请求**

**最终引入了解耦的概念**


![最终MQ实现解耦](https://raw.githubusercontent.com/TheFrancisHe/TheFrancisHe.github.io/master/img/mq.png)




### 参考：

部分资料来自网络

